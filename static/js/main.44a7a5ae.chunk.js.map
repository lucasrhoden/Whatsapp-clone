{"version":3,"sources":["firebase.js","Sidebar/SidebarUser/SidebarUser.js","Sidebar/Sidebar.js","axios.js","Chat/ChatMessage/ChatMessage.js","Chat/Chat.js","Chat/ChatInit/ChatInit.js","App.js","index.js"],"names":["db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","SidebarUser","props","className","to","name","Avatar","src","img","Sidebar","useState","users","setUsers","useEffect","collection","onSnapshot","snapshot","docs","map","doc","newData","data","id","alt","IconButton","size","fontSize","placeholder","onClick","newRoom","prompt","add","user","key","instance","axios","create","baseURL","ChatMessage","msg","received","message","Chat","input","setInput","messages","setMessages","roomHeader","setRoomHeader","roomId","useParams","find","el","console","log","refRoomId","replaceAll","get","then","response","catch","err","channel","Pusher","cluster","subscribe","bind","newMessage","unbind_all","unsubscribe","sendMessage","event","a","preventDefault","post","timestamp","_id","onChange","e","target","value","type","ChatInit","class","App","path","exact","ReactDOM","render","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.44a7a5ae.chunk.js","sourcesContent":["import firebase from \"firebase\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyC6MGhn9W8u9BXq_RKBNsiuVvlCnkRTpe8\",\r\n    authDomain: \"whatsapp-clone-c8933.firebaseapp.com\",\r\n    databaseURL: \"https://whatsapp-clone-c8933.firebaseio.com\",\r\n    projectId: \"whatsapp-clone-c8933\",\r\n    storageBucket: \"whatsapp-clone-c8933.appspot.com\",\r\n    messagingSenderId: \"820664923486\",\r\n    appId: \"1:820664923486:web:5cff770487953cf6658bcf\",\r\n    measurementId: \"G-PY5L9DWDED\"\r\n};\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebase.firestore();\r\n// const auth = firebaseApp.firebase.auth();\r\n// const provider = new firebase.auth.GoogleAuth.provider();\r\n\r\n// export { auth, provider};\r\nexport default db;","import React from 'react';\r\nimport \"./SidebarUser.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Avatar } from \"@material-ui/core\";\r\n\r\n\r\nfunction SidebarUser(props) {\r\n    return (\r\n        <Link className=\"link\" to={`/rooms/${props.name}`}>\r\n            <div className=\"sidebar__chatComponent\">\r\n                <Avatar src={props.img}/>\r\n                <div className=\"sidebar__chatInfo\">\r\n                    <h4>{props.name}</h4>\r\n                    <p>Hey, I'm using whatsapp!</p>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n    )\r\n}\r\n\r\nexport default SidebarUser\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Avatar, IconButton } from \"@material-ui/core\";\r\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport db from \"../firebase\";\r\nimport \"./Sidebar.css\";\r\n\r\nimport SidebarUser from \"./SidebarUser/SidebarUser\";\r\n\r\nfunction Sidebar(props) {\r\n\r\n    const [users, setUsers] = useState([]);\r\n\r\n    // Connecting personas from firestore\r\n    useEffect(() => {\r\n        db.collection(\"rooms\").onSnapshot(snapshot => {\r\n            setUsers(snapshot.docs.map(doc => {\r\n                const newData = doc.data();\r\n                const newUser = {\r\n                    id: doc.id,\r\n                    name: newData.name,\r\n                    img: newData.img\r\n                }\r\n                    return newUser;\r\n            }))\r\n        })\r\n    }, [])\r\n\r\n    const createChat = () => {\r\n        const newRoom = prompt(\"What is your chat name?\");\r\n\r\n        if (newRoom) {\r\n            db.collection(\"rooms\").add({name: newRoom})\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"sidebar\">\r\n            <div className=\"sidebar__header\">\r\n                <div className=\"sidebar__headerLeft\">\r\n                    <Avatar alt=\"profile__avatar\" src=\"data:image/jpeg;base64,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\"/>\r\n                </div>\r\n                <div className=\"sidebar___headerRight\">\r\n                    <IconButton>\r\n                        <DonutLargeIcon />\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <ChatIcon />\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <MoreVertIcon />\r\n                    </IconButton>\r\n                </div>\r\n            </div>\r\n            <div className=\"sidebar__search\">\r\n                <div className=\"sidebar__searchField\">\r\n                    <IconButton size=\"small\">\r\n                        <SearchIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                    <input placeholder=\"Search or start a new chat\"/>\r\n                </div>\r\n            </div>\r\n            <div className=\"sidebar__chat\">\r\n                <div className=\"sidebar__newchat\" onClick={createChat}>\r\n                    <h2>start new chat</h2>\r\n                </div>\r\n                {users.map(user => (\r\n                    <SidebarUser key={user.id} id={user.id} name={user.name} img={user.img} />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"https://rocky-taiga-88829.herokuapp.com\"\r\n})\r\n\r\nexport default instance;\r\n\r\n// process.env.baseURL ||\r\n// 'http://localhost:9000'\r\n// \"https://rocky-taiga-88829.herokuapp.com\"","import React from 'react';\r\nimport \"./ChatMessage.css\";\r\n\r\nfunction ChatMessage(props) {\r\n    return (\r\n        <div className={props.msg.received ? \"chat__messageBody\" : \"chat__messageBody message__sent\"}>\r\n            <h4>{props.msg.name}</h4>\r\n            <div className={props.msg.received ? \"chat__message\" : \"chat__sent\"}>\r\n                <p>{props.msg.message}<span>timestamp</span></p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatMessage\r\n","import React, { useEffect, useState } from 'react';\r\nimport Pusher from \"pusher-js\";\r\nimport { useParams } from \"react-router-dom\"\r\nimport { Avatar, IconButton } from \"@material-ui/core\";\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\n\r\nimport \"./Chat.css\";\r\nimport axios from \"../axios\";\r\nimport db from \"../firebase\";\r\n\r\nimport ChatMessage from \"./ChatMessage/ChatMessage\";\r\n\r\nfunction Chat() {\r\n    const [input, setInput] = useState(\"\");\r\n    const [messages, setMessages] = useState([]);\r\n    const [roomHeader, setRoomHeader] = useState(\"\");\r\n    const { roomId } = useParams();\r\n\r\n    // useEffect to set headerChat from firebase\r\n    useEffect(() => {\r\n        if (roomId) {\r\n            db.collection(\"rooms\").onSnapshot(snapshot => {\r\n                setRoomHeader(snapshot.docs.map(doc => {\r\n                    const newData = doc.data();\r\n                    const newUser = {\r\n                        id: doc.id,\r\n                        name: newData.name,\r\n                        img: newData.img\r\n                    }\r\n                        return newUser;\r\n                }).find(el => el.name === roomId))\r\n            })\r\n        }\r\n    }, [roomId])\r\n\r\n    console.log(roomHeader)\r\n  \r\n    // useEffect to set message body from mongoDB\r\n    useEffect(() => {\r\n        const refRoomId = roomId.replaceAll(\" \",\"%20\")\r\n        axios.get(`/messages/sync/${refRoomId}`)\r\n            .then(response => {\r\n              setMessages(response.data)\r\n            })\r\n            .catch(err => console.log(err));\r\n    }, [roomId]);\r\n  \r\n    // useEffect to fetch Pusher sync\r\n    useEffect(() => {\r\n      const pusher = new Pusher('f7c2a5074698e8f62aac', {\r\n        cluster: 'eu'\r\n      });\r\n  \r\n      const channel = pusher.subscribe('message');\r\n      channel.bind('inserted', (newMessage) => {\r\n        setMessages([...messages, newMessage]);\r\n      });\r\n  \r\n      return () => {\r\n        channel.unbind_all();\r\n        channel.unsubscribe();\r\n      }\r\n    }, [messages])\r\n\r\n    // axios to post a new message on mongoDB\r\n    const sendMessage = async event => {\r\n        event.preventDefault();\r\n        await axios.post(\"/messages/new\", {\r\n            message: input,\r\n            name: \"You\",\r\n            timestamp: \"without\",\r\n            received: false\r\n        }).catch(err => console.log(err));\r\n\r\n        setInput(\"\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"chat\">\r\n            <div className=\"chat__header\">\r\n                <div className=\"chat___headerLeft\">\r\n                    <Avatar src={roomHeader.img}/>\r\n                    <div className=\"chat__headerLeftInfo\">\r\n                        <h4>{roomHeader.name}</h4>\r\n                        <p>Let's chat</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"chat__headerRight\">\r\n                    <IconButton>\r\n                        <SearchIcon />\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <AttachFileIcon />\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <MoreVertIcon />\r\n                    </IconButton>\r\n                </div>\r\n            </div>\r\n            <div className=\"chat__body\">\r\n                {messages.map(msg => (\r\n                    <ChatMessage key={msg._id} msg={msg}/>\r\n                ))}\r\n            </div>\r\n            <div className=\"chat__ctrl\">\r\n                <IconButton>\r\n                    <InsertEmoticonIcon />\r\n                </IconButton>\r\n                <div className=\"chat__ctrlMessage\">\r\n                    <form>\r\n                        <input onChange={e => setInput(e.target.value)} value={input} placeholder=\"Type a message\"/>\r\n                        <button onClick={sendMessage} type=\"submit\" />\r\n                    </form>\r\n                </div>\r\n                <IconButton>\r\n                    <MicIcon />\r\n                </IconButton>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n","import { Avatar } from '@material-ui/core';\r\nimport React from 'react';\r\nimport \"./ChatInit.css\";\r\n\r\nfunction ChatInit() {\r\n    return (\r\n        <div className=\"chatInit\">\r\n            <Avatar src=\"\" />\r\n            <div className=\"chatInit__body\">\r\n                <h4>welcome</h4>\r\n                <p>to</p>\r\n                <h3>WhatsappClone app!</h3>\r\n                <p>Please select a room to chat with our heroes</p>\r\n            </div>\r\n            <div className=\"chatInit__rights\">\r\n                <i class=\"fas fa-meteor\"></i>\r\n                <p>by Lucas Rhoden</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatInit\r\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport './App.css';\n\nimport Sidebar from \"./Sidebar/Sidebar\";\nimport Chat from \"./Chat/Chat\";\nimport ChatInit from \"./Chat/ChatInit/ChatInit\"\n\nfunction App() {\n  return (\n    <Router>\n        <div className=\"app\">\n          <div className=\"app__root\">\n            <Sidebar />\n            <Switch>\n              <Route path=\"/Whatsapp-clone/\" exact>\n                <ChatInit />\n              </Route>\n              <Route path=\"/rooms/:roomId\">\n                <Chat />\n              </Route>\n            </Switch>\n          </div>\n        </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <App />\n    </BrowserRouter>\n    ,document.getElementById('root'));\n"],"sourceRoot":""}